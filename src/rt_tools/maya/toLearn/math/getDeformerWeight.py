file -f -new;
// untitled // 
commandPort -securityWarning -name commandportDefault;
onSetCurrentLayout "Maya Classic";
// Warning: file: C:\Users\User\Documents\maya\2020\prefs\filePathEditorRegistryPrefs.mel line 4: filePathEditor: Attribute 'aiImage.filename' is invalid or is not designated 'usedAsFilename'. // 
// Warning: file: C:\Users\User\Documents\maya\2020\prefs\filePathEditorRegistryPrefs.mel line 5: filePathEditor: Attribute 'aiPhotometricLight.aiFilename' is invalid or is not designated 'usedAsFilename'. // 
// Warning: file: C:\Users\User\Documents\maya\2020\prefs\filePathEditorRegistryPrefs.mel line 6: filePathEditor: Attribute 'aiStandIn.dso' is invalid or is not designated 'usedAsFilename'. // 
// Warning: file: C:\Users\User\Documents\maya\2020\prefs\filePathEditorRegistryPrefs.mel line 7: filePathEditor: Attribute 'aiVolume.filename' is invalid or is not designated 'usedAsFilename'. // 
// AbcExport v1.0 using Alembic 1.7.5 (built Feb  6 2018 18:28:08)
evalDeferred "shaderBallRendererMenuUpdate";
// Warning: line 1: filePathEditor: Attribute 'aiStandIn.dso' and label 'Standin' have been saved already. // 
// Warning: line 1: filePathEditor: Attribute 'aiVolume.filename' and label 'VDB' have been saved already. // 
// Warning: line 1: filePathEditor: Attribute 'aiImage.filename' and label 'Image' have been saved already. // 
// Warning: line 1: filePathEditor: Attribute 'aiPhotometricLight.aiFilename' and label 'IES' have been saved already. // 
import arnold
// Successfully imported python module 'arnold'
import mtoa
// Successfully imported python module 'mtoa'
import mtoa.cmds.registerArnoldRenderer;mtoa.cmds.registerArnoldRenderer.registerArnoldRenderer()
// Successfully registered renderer 'arnold'
updateRenderOverride;
// Warning: file: C:/Program Files/Autodesk/Maya2020/scripts/startup/autoLoadPlugin.mel line 35: Loading plug-in "mtoa" has resulted in changes to the scene that may need to be saved. // 
// Loading Bifrost version 2.1.0.0
// Bifrost: Loading library: Amino, from: Autodesk.
// Bifrost: Loading library: AminoMayaTranslation, from: Autodesk.
// Bifrost: Loading library: bif, from: Autodesk.
// Bifrost: Loading library: bifrostObjectMayaTranslations, from: Autodesk.
// Bifrost: Loading library: geometries, from: Autodesk.
// Bifrost: Loading library: fluids, from: Autodesk.
// Bifrost: Loading library: particles, from: Autodesk.
// Bifrost: Loading library: file, from: Autodesk.
// Bifrost: Loading library: midgard, from: Autodesk.
// Bifrost: Loading library: modeling, from: Autodesk.
// Bifrost: Loading library: nucleus, from: Autodesk.
// Bifrost: Loading library: simulation, from: Autodesk.
// Bifrost: Loading library: riv_types, from: Autodesk.
// Bifrost: Loading library: riv, from: Autodesk.
// Bifrost: Loading library: UserCompounds, from: User.
// Warning: Warning: Imported uri uriImported may be missing its prefix. // 
// AbcImport v1.0 using Alembic 1.7.5 (built Feb  6 2018 18:28:08)
updateRendererUI;
updateRendererUI;
a = asdfsadfasdfasd
b = a[0].rstrip('\')
print(b)
# Error: EOL while scanning string literal # 
a = asdfsadfasdfasd
b = a[0].rstrip('\')
print(b)
# Error: EOL while scanning string literal # 
a = asdfsadfasdfasd
b = a.rstrip('\')
print(b)
# Error: EOL while scanning string literal # 
a = asdfsadfasdfasd
b = a[0].rstrip('\n')
print(b)
# Error: NameError: file <maya console> line 1: name 'asdfsadfasdfasd' is not defined # 
a = asdfsadfasdfasd
b = a.rstrip('\n')
print(b)
# Error: NameError: file <maya console> line 1: name 'asdfsadfasdfasd' is not defined # 
a = 'asdfsadfasdfasd'
b = a[0].rstrip('\n')
print(b)
a
a = asdfsadfasdfasd
b = a[0].rstrip('\n')
print(b)
# Error: NameError: file <maya console> line 1: name 'asdfsadfasdfasd' is not defined # 
a = 'asdfsadfasdfasd'
b = a[0]
print(b)
a
numVerts = 20
for i in xrange(numVerts):
    tempList = [i]
numVerts = 20
for i in xrange(numVerts):
    tempList = [i]
    print(tempList)
[0]
[1]
[2]
[3]
[4]
[5]
[6]
[7]
[8]
[9]
[10]
[11]
[12]
[13]
[14]
[15]
[16]
[17]
[18]
[19]
numVerts = 20
numInfs = 4

for i in xrange(numVerts):
    tempList = [i]
    for j in xrange(numInfs):
        tempList.append(float((i * numInfs) + j))
        print(tempList)


[0, 0.0]
[0, 0.0, 1.0]
[0, 0.0, 1.0, 2.0]
[0, 0.0, 1.0, 2.0, 3.0]
[1, 4.0]
[1, 4.0, 5.0]
[1, 4.0, 5.0, 6.0]
[1, 4.0, 5.0, 6.0, 7.0]
[2, 8.0]
[2, 8.0, 9.0]
[2, 8.0, 9.0, 10.0]
[2, 8.0, 9.0, 10.0, 11.0]
[3, 12.0]
[3, 12.0, 13.0]
[3, 12.0, 13.0, 14.0]
[3, 12.0, 13.0, 14.0, 15.0]
[4, 16.0]
[4, 16.0, 17.0]
[4, 16.0, 17.0, 18.0]
[4, 16.0, 17.0, 18.0, 19.0]
[5, 20.0]
[5, 20.0, 21.0]
[5, 20.0, 21.0, 22.0]
[5, 20.0, 21.0, 22.0, 23.0]
[6, 24.0]
[6, 24.0, 25.0]
[6, 24.0, 25.0, 26.0]
[6, 24.0, 25.0, 26.0, 27.0]
[7, 28.0]
[7, 28.0, 29.0]
[7, 28.0, 29.0, 30.0]
[7, 28.0, 29.0, 30.0, 31.0]
[8, 32.0]
[8, 32.0, 33.0]
[8, 32.0, 33.0, 34.0]
[8, 32.0, 33.0, 34.0, 35.0]
[9, 36.0]
[9, 36.0, 37.0]
[9, 36.0, 37.0, 38.0]
[9, 36.0, 37.0, 38.0, 39.0]
[10, 40.0]
[10, 40.0, 41.0]
[10, 40.0, 41.0, 42.0]
[10, 40.0, 41.0, 42.0, 43.0]
[11, 44.0]
[11, 44.0, 45.0]
[11, 44.0, 45.0, 46.0]
[11, 44.0, 45.0, 46.0, 47.0]
[12, 48.0]
[12, 48.0, 49.0]
[12, 48.0, 49.0, 50.0]
[12, 48.0, 49.0, 50.0, 51.0]
[13, 52.0]
[13, 52.0, 53.0]
[13, 52.0, 53.0, 54.0]
[13, 52.0, 53.0, 54.0, 55.0]
[14, 56.0]
[14, 56.0, 57.0]
[14, 56.0, 57.0, 58.0]
[14, 56.0, 57.0, 58.0, 59.0]
[15, 60.0]
[15, 60.0, 61.0]
[15, 60.0, 61.0, 62.0]
[15, 60.0, 61.0, 62.0, 63.0]
[16, 64.0]
[16, 64.0, 65.0]
[16, 64.0, 65.0, 66.0]
[16, 64.0, 65.0, 66.0, 67.0]
[17, 68.0]
[17, 68.0, 69.0]
[17, 68.0, 69.0, 70.0]
[17, 68.0, 69.0, 70.0, 71.0]
[18, 72.0]
[18, 72.0, 73.0]
[18, 72.0, 73.0, 74.0]
[18, 72.0, 73.0, 74.0, 75.0]
[19, 76.0]
[19, 76.0, 77.0]
[19, 76.0, 77.0, 78.0]
[19, 76.0, 77.0, 78.0, 79.0]
numVerts = 20
numInfs = 4
for i in xrange(numVerts):
    tempList = [i]
    for j in xrange(numInfs):
        tempList.append(float(i * numInfs) + j))
        print(tempList)


# Error: invalid syntax # 
numVerts = 20
numInfs = 4
for i in xrange(numVerts):
    tempList = [i]
    for j in xrange(numInfs):
        tempList.append(float(i * numInfs) + j)
        print(tempList)


[0, 0.0]
[0, 0.0, 1.0]
[0, 0.0, 1.0, 2.0]
[0, 0.0, 1.0, 2.0, 3.0]
[1, 4.0]
[1, 4.0, 5.0]
[1, 4.0, 5.0, 6.0]
[1, 4.0, 5.0, 6.0, 7.0]
[2, 8.0]
[2, 8.0, 9.0]
[2, 8.0, 9.0, 10.0]
[2, 8.0, 9.0, 10.0, 11.0]
[3, 12.0]
[3, 12.0, 13.0]
[3, 12.0, 13.0, 14.0]
[3, 12.0, 13.0, 14.0, 15.0]
[4, 16.0]
[4, 16.0, 17.0]
[4, 16.0, 17.0, 18.0]
[4, 16.0, 17.0, 18.0, 19.0]
[5, 20.0]
[5, 20.0, 21.0]
[5, 20.0, 21.0, 22.0]
[5, 20.0, 21.0, 22.0, 23.0]
[6, 24.0]
[6, 24.0, 25.0]
[6, 24.0, 25.0, 26.0]
[6, 24.0, 25.0, 26.0, 27.0]
[7, 28.0]
[7, 28.0, 29.0]
[7, 28.0, 29.0, 30.0]
[7, 28.0, 29.0, 30.0, 31.0]
[8, 32.0]
[8, 32.0, 33.0]
[8, 32.0, 33.0, 34.0]
[8, 32.0, 33.0, 34.0, 35.0]
[9, 36.0]
[9, 36.0, 37.0]
[9, 36.0, 37.0, 38.0]
[9, 36.0, 37.0, 38.0, 39.0]
[10, 40.0]
[10, 40.0, 41.0]
[10, 40.0, 41.0, 42.0]
[10, 40.0, 41.0, 42.0, 43.0]
[11, 44.0]
[11, 44.0, 45.0]
[11, 44.0, 45.0, 46.0]
[11, 44.0, 45.0, 46.0, 47.0]
[12, 48.0]
[12, 48.0, 49.0]
[12, 48.0, 49.0, 50.0]
[12, 48.0, 49.0, 50.0, 51.0]
[13, 52.0]
[13, 52.0, 53.0]
[13, 52.0, 53.0, 54.0]
[13, 52.0, 53.0, 54.0, 55.0]
[14, 56.0]
[14, 56.0, 57.0]
[14, 56.0, 57.0, 58.0]
[14, 56.0, 57.0, 58.0, 59.0]
[15, 60.0]
[15, 60.0, 61.0]
[15, 60.0, 61.0, 62.0]
[15, 60.0, 61.0, 62.0, 63.0]
[16, 64.0]
[16, 64.0, 65.0]
[16, 64.0, 65.0, 66.0]
[16, 64.0, 65.0, 66.0, 67.0]
[17, 68.0]
[17, 68.0, 69.0]
[17, 68.0, 69.0, 70.0]
[17, 68.0, 69.0, 70.0, 71.0]
[18, 72.0]
[18, 72.0, 73.0]
[18, 72.0, 73.0, 74.0]
[18, 72.0, 73.0, 74.0, 75.0]
[19, 76.0]
[19, 76.0, 77.0]
[19, 76.0, 77.0, 78.0]
[19, 76.0, 77.0, 78.0, 79.0]
numVerts = 20
numInfs = 4

for i in xrange(numVerts):
    tempList = [i]
    for j in xrange(numInfs):
        tempList.append(float(i * numInfs) + j)
        print(tempList)
        wgtsList.append(tempList)


[0, 0.0]
# Error: NameError: file <maya console> line 9: name 'wgtsList' is not defined # 
numVerts = 20
numInfs = 4
wgtsList = []
for i in xrange(numVerts):
    tempList = [i]
    for j in xrange(numInfs):
        tempList.append(float(i * numInfs) + j)
        wgtsList.append(tempList)
print(wgtsList)


[[0, 0.0, 1.0, 2.0, 3.0], [0, 0.0, 1.0, 2.0, 3.0], [0, 0.0, 1.0, 2.0, 3.0], [0, 0.0, 1.0, 2.0, 3.0], [1, 4.0, 5.0, 6.0, 7.0], [1, 4.0, 5.0, 6.0, 7.0], [1, 4.0, 5.0, 6.0, 7.0], [1, 4.0, 5.0, 6.0, 7.0], [2, 8.0, 9.0, 10.0, 11.0], [2, 8.0, 9.0, 10.0, 11.0], [2, 8.0, 9.0, 10.0, 11.0], [2, 8.0, 9.0, 10.0, 11.0], [3, 12.0, 13.0, 14.0, 15.0], [3, 12.0, 13.0, 14.0, 15.0], [3, 12.0, 13.0, 14.0, 15.0], [3, 12.0, 13.0, 14.0, 15.0], [4, 16.0, 17.0, 18.0, 19.0], [4, 16.0, 17.0, 18.0, 19.0], [4, 16.0, 17.0, 18.0, 19.0], [4, 16.0, 17.0, 18.0, 19.0], [5, 20.0, 21.0, 22.0, 23.0], [5, 20.0, 21.0, 22.0, 23.0], [5, 20.0, 21.0, 22.0, 23.0], [5, 20.0, 21.0, 22.0, 23.0], [6, 24.0, 25.0, 26.0, 27.0], [6, 24.0, 25.0, 26.0, 27.0], [6, 24.0, 25.0, 26.0, 27.0], [6, 24.0, 25.0, 26.0, 27.0], [7, 28.0, 29.0, 30.0, 31.0], [7, 28.0, 29.0, 30.0, 31.0], [7, 28.0, 29.0, 30.0, 31.0], [7, 28.0, 29.0, 30.0, 31.0], [8, 32.0, 33.0, 34.0, 35.0], [8, 32.0, 33.0, 34.0, 35.0], [8, 32.0, 33.0, 34.0, 35.0], [8, 32.0, 33.0, 34.0, 35.0], [9, 36.0, 37.0, 38.0, 39.0], [9, 36.0, 37.0, 38.0, 39.0], [9, 36.0, 37.0, 38.0, 39.0], [9, 36.0, 37.0, 38.0, 39.0], [10, 40.0, 41.0, 42.0, 43.0], [10, 40.0, 41.0, 42.0, 43.0], [10, 40.0, 41.0, 42.0, 43.0], [10, 40.0, 41.0, 42.0, 43.0], [11, 44.0, 45.0, 46.0, 47.0], [11, 44.0, 45.0, 46.0, 47.0], [11, 44.0, 45.0, 46.0, 47.0], [11, 44.0, 45.0, 46.0, 47.0], [12, 48.0, 49.0, 50.0, 51.0], [12, 48.0, 49.0, 50.0, 51.0], [12, 48.0, 49.0, 50.0, 51.0], [12, 48.0, 49.0, 50.0, 51.0], [13, 52.0, 53.0, 54.0, 55.0], [13, 52.0, 53.0, 54.0, 55.0], [13, 52.0, 53.0, 54.0, 55.0], [13, 52.0, 53.0, 54.0, 55.0], [14, 56.0, 57.0, 58.0, 59.0], [14, 56.0, 57.0, 58.0, 59.0], [14, 56.0, 57.0, 58.0, 59.0], [14, 56.0, 57.0, 58.0, 59.0], [15, 60.0, 61.0, 62.0, 63.0], [15, 60.0, 61.0, 62.0, 63.0], [15, 60.0, 61.0, 62.0, 63.0], [15, 60.0, 61.0, 62.0, 63.0], [16, 64.0, 65.0, 66.0, 67.0], [16, 64.0, 65.0, 66.0, 67.0], [16, 64.0, 65.0, 66.0, 67.0], [16, 64.0, 65.0, 66.0, 67.0], [17, 68.0, 69.0, 70.0, 71.0], [17, 68.0, 69.0, 70.0, 71.0], [17, 68.0, 69.0, 70.0, 71.0], [17, 68.0, 69.0, 70.0, 71.0], [18, 72.0, 73.0, 74.0, 75.0], [18, 72.0, 73.0, 74.0, 75.0], [18, 72.0, 73.0, 74.0, 75.0], [18, 72.0, 73.0, 74.0, 75.0], [19, 76.0, 77.0, 78.0, 79.0], [19, 76.0, 77.0, 78.0, 79.0], [19, 76.0, 77.0, 78.0, 79.0], [19, 76.0, 77.0, 78.0, 79.0]]
polySphere -r 1 -sx 20 -sy 20 -ax 0 1 0 -cuv 2 -ch 1;
// pSphere1 polySphere1 // 
JointTool;
select -d pSphere1 ;
select -d;
joint -p 1.460909 0 1.642671 ;
select -tgl pSphere1 ;
select -cl  ;
select -r pSphere1 ;
select -addFirst skinCluster1 ;
// Result:  skinCluster1
import re
myList = ['Ehsan', 3, 4.2, 'Jaber', 'B3hnam']
geoIdx = re.findall(r'(\d+)', myList)
print(geoIdx)
# Error: TypeError: file C:\Program Files\Autodesk\Maya2020\bin\python27.zip\re.py line 181: expected string or buffer # 
// Warning: line 1: Save of "C:/Users/User/Documents/maya/2020/prefs/userRGBColors2.mel" failed // 
// Saving display RGB colors to : C:/Users/User/Documents/maya/2020/prefs/userRGBColors2.mel
// Saving display RGB colors to : C:/Users/User/Documents/maya/2020/prefs/userRGBColors2.mel
import re
myList = ['Ehsan', '3', '4.2', 'Jaber', 'B3hnam']
geoIdx = re.findall(r'(\d+)', myList)
print(geoIdx)
# Error: TypeError: file C:\Program Files\Autodesk\Maya2020\bin\python27.zip\re.py line 181: expected string or buffer # 
import re
myList = ['Ehsan', '3', '4.2', 'Jaber', 'B3hnam']
geoIdx = re.findall('(\d+)', myList)
print(geoIdx)
# Error: TypeError: file C:\Program Files\Autodesk\Maya2020\bin\python27.zip\re.py line 181: expected string or buffer # 
import re
myList = ['Ehsan', '3', '4.2', 'Jaber', 'B3hnam']
geoIdx = re.findall(r'(\d+)', myList[0])
print(geoIdx)
[]
import re
myList = ['Ehsan', '3', '4.2', 'Jaber', 'B3hnam']
geoIdx = (re.findall(r'(\d+)', x) for x in myList)
print(geoIdx)
<generator object <genexpr> at 0x000002CB34C1C558>
import re
myList = ['Ehsan', '3', '4.2', 'Jaber', 'B3hnam']
geoIdx = [re.findall(r'(\d+)', x) for x in myList]
print(geoIdx)
[[], ['3'], ['4', '2'], [], ['3']]
import re
myList = ['Ehsan', '3', '4.2', 'Jaber', 'B3hnam']
geoIdx = [re.findall('(\d+)', x) for x in myList]
print(geoIdx)
[[], ['3'], ['4', '2'], [], ['3']]
import re
myList = ['Ehsan', '3', '4.2', 'Jaber', 'B3hnam']
geoIdx = [re.findall(r'(\d+)', x) for x in myList]
print(geoIdx)
[[], ['3'], ['4', '2'], [], ['3']]
import re
myList = ['Ehsan', 3, '4.2', 'Jaber', 'B3hnam']
geoIdx = [re.findall(r'(\d+)', x) for x in myList]
print(geoIdx)
# Error: TypeError: file C:\Program Files\Autodesk\Maya2020\bin\python27.zip\re.py line 181: expected string or buffer # 
import re
myList = ['Ehsan', '3', '4.2', 'Jaber', 'B3hnam']
geoIdx = [re.findall(r'(\d+)', x) for x in myList]
print(geoIdx)
[[], ['3'], ['4', '2'], [], ['3']]
import re
myList = ['Ehsan', '3', '4.2', 'Jaber', 'B3hnam']
geoIdx = [re.findall(r'(\d+)', x) for x in myList] or None
print(geoIdx)
[[], ['3'], ['4', '2'], [], ['3']]
select -cl  ;
polyCube -w 1 -h 1 -d 1 -sx 1 -sy 1 -sz 1 -ax 0 1 0 -cuv 4 -ch 1;
// pCube1 polyCube1 // 
Command.execute()
// Result: deltaMush1 //
import maya.cmds as mc
node = 'deltamush1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
print(deformerSet)        
# Error: ValueError: file <maya console> line 3: No object matches name: deltamush1.message # 
disconnectAttr deltaMush1.message deltaMush1Set.usedBy[0];
// Disconnect deltaMush1.message from deltaMush1Set.usedBy. // 
// Undo: disconnectAttr deltaMush1.message deltaMush1Set.usedBy[0]
import maya.cmds as mc
node = 'deltaMush1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
print(deformerSet)        
deltaMush1Set
import maya.cmds as mc
node = 'deltaMush1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformer_set, query=True)    
print(all_deformed_verts)        
# Error: NameError: file <maya console> line 7: name 'deformer_set' is not defined # 
import maya.cmds as mc
node = 'deltaMush1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True)    
print(all_deformed_verts)        
[u'pCube1.vtx[*]']
select -r pSphere1 ;
doDelete;
select -r pCube1 ;
onSetCurrentLayout "Maya Classic";
select -r pCube1 ;
import maya.cmds as mc
node = 'deltaMush1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True)    
print(all_deformed_verts)        
[u'pCube1.vtx[*]']
import maya.cmds as mc
node = 'deltaMush1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True)    
print(all_deformed_verts)        
[u'pCube1.vtx[*]']
import maya.cmds as mc
node = 'deltaMush1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True)    
print(all_deformed_verts)        
[u'pCube1.vtx[*]']
import maya.cmds as mc
node = 'deltaMush1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
   
print(this_geos_deformed_verts)        
# Error: NameError: file <maya console> line 8: name 'geo' is not defined # 
import maya.cmds as mc
node = 'deltaMush1'
geo = 'pCube1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
   
print(this_geos_deformed_verts)        
[u'pCube1.vtx[*]']
import maya.cmds as mc
node = 'deltaMush1'
geo = 'pCube1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
print(deformed_vert_ids)        
# Error: NameError: file <maya console> line 10: name 'deformed_verts' is not defined # 
import maya.cmds as mc
node = 'deltaMush1'
geo = 'pCube1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
print(deformed_vert_ids)        
[0, 1, 2, 3, 4, 5, 6, 7]
import maya.cmds as mc
node = 'deltaMush1'
geo = 'pCube1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
print(deformed_verts)        
[u'pCube1.vtx[0]', u'pCube1.vtx[1]', u'pCube1.vtx[2]', u'pCube1.vtx[3]', u'pCube1.vtx[4]', u'pCube1.vtx[5]', u'pCube1.vtx[6]', u'pCube1.vtx[7]']
import maya.cmds as mc
node = 'deltaMush1'
geo = 'pCube1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
print(deformed_vert_ids)        
[0, 1, 2, 3, 4, 5, 6, 7]
import maya.cmds as mc
node = 'deltaMush1'
geo = 'pCube1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(deformer, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: NameError: file <maya console> line 15: name 'deformer' is not defined # 
import maya.cmds as mc
node = 'deltaMush1'
geo = 'pCube1'
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: NameError: file <maya console> line 15: name 'geo_idx' is not defined # 
import maya.cmds as mc

def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, deformer)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: NameError: file <maya console> line 21: name 'deformer' is not defined # 
import maya.cmds as mc

def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: NameError: file <maya console> line 10: global name 'getShapes' is not defined # 
import maya.cmds as mc

def getShapes(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shapes = trsLib.getShapeOfType(node=mesh, type="mesh", fullPath=fullPath)
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: NameError: file <maya console> line 7: global name 'trsLib' is not defined # 
import maya.cmds as mc

def getShapeOfType(node="", type="mesh", fullPath=False):
    """
    :return: string[]
                given node if it's of given type or it's shapes if
                they are of given type, otherwise errors.
    """
    shape_list = []

    all_shapes = getShapes(node=node, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list

    mc.warning('object "{}" is not of type "{}"'.format(node, type))

def getShapes(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shapes = trsLib.getShapeOfType(node=mesh, type="mesh", fullPath=fullPath)
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: NameError: file <maya console> line 26: global name 'trsLib' is not defined # 
import maya.cmds as mc

def getShapeOfType(node="", type="mesh", fullPath=False):
    """
    :return: string[]
                given node if it's of given type or it's shapes if
                they are of given type, otherwise errors.
    """
    shape_list = []

    all_shapes = getShapes(node=node, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list

    mc.warning('object "{}" is not of type "{}"'.format(node, type))

def getShapes(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shapes = getShapeOfType(node=mesh, type="mesh", fullPath=fullPath)
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 11: getShapes() got an unexpected keyword argument 'node' # 
import maya.cmds as mc

def getShapeOfType(node="", type="mesh", fullPath=False):
    """
    :return: string[]
                given node if it's of given type or it's shapes if
                they are of given type, otherwise errors.
    """
    shape_list = []

    all_shapes = getShapes(node=node, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list

    mc.warning('object "{}" is not of type "{}"'.format(node, type))

def getShapes(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shapes = getShapeOfType(node=mesh, type="mesh", fullPath=fullPath)
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 11: getShapes() got an unexpected keyword argument 'node' # 
import maya.cmds as mc

def getShapeOfType(node="", type="mesh", fullPath=False):
    """
    :return: string[]
                given node if it's of given type or it's shapes if
                they are of given type, otherwise errors.
    """
    shape_list = []

    all_shapes = getShapes(node=node, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list

    mc.warning('object "{}" is not of type "{}"'.format(node, type))

def getShapes(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shapes = getShapeOfType(node=mesh, type="mesh", fullPath=fullPath)
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 11: getShapes() got an unexpected keyword argument 'node' # 
import maya.cmds as mc

def getShapeOfType(node="", type="mesh", fullPath=False):
    """
    :return: string[]
                given node if it's of given type or it's shapes if
                they are of given type, otherwise errors.
    """
    shape_list = []

    all_shapes = getShapes(node, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list

    mc.warning('object "{}" is not of type "{}"'.format(node, type))

def getShapes(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shapes = getShapeOfType(node=mesh, type="mesh", fullPath=fullPath)
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: RuntimeError: file <maya console> line 11: maximum recursion depth exceeded # 
import maya.cmds as mc

def getShapeOfType(node="", type="mesh", fullPath=False):
    """
    :return: string[]
                given node if it's of given type or it's shapes if
                they are of given type, otherwise errors.
    """
    shape_list = []

    all_shapes = getShapes(node=node, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list

    mc.warning('object "{}" is not of type "{}"'.format(node, type))

def getShapes(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 27: getShapes() got an unexpected keyword argument 'node' # 
import maya.cmds as mc

def getShapeOfType(node="", type="mesh", fullPath=False):
    """
    :return: string[]
                given node if it's of given type or it's shapes if
                they are of given type, otherwise errors.
    """
    shape_list = []

    all_shapes = getShapes(node=node, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list

    mc.warning('object "{}" is not of type "{}"'.format(node, type))

def getShapes(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 27: getShapes() got an unexpected keyword argument 'node' # 
import maya.cmds as mc

def getShapeOfType(node="", type="mesh", fullPath=False):
    """
    :return: string[]
                given node if it's of given type or it's shapes if
                they are of given type, otherwise errors.
    """
    shape_list = []

    all_shapes = getShapes(node=node, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list

    mc.warning('object "{}" is not of type "{}"'.format(node, type))

def getShapes(mesh, fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 27: getShapes() got an unexpected keyword argument 'node' # 
import maya.cmds as mc

def getShapeOfType(node="", type="mesh", fullPath=False):
    """
    :return: string[]
                given node if it's of given type or it's shapes if
                they are of given type, otherwise errors.
    """
    shape_list = []

    all_shapes = getShapes(node=node, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list

    mc.warning('object "{}" is not of type "{}"'.format(node, type))

def getShapes(mesh, fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 27: getShapes() got an unexpected keyword argument 'node' # 
import maya.cmds as mc

def getShapeOfType(node="", type="mesh", fullPath=False):
    """
    :return: string[]
                given node if it's of given type or it's shapes if
                they are of given type, otherwise errors.
    """
    shape_list = []

    all_shapes = getShapes(mesh=node, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list

    mc.warning('object "{}" is not of type "{}"'.format(node, type))

def getShapes(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 27: getShapes() got an unexpected keyword argument 'node' # 
import maya.cmds as mc

def getShapeOfType(node="", type="mesh", fullPath=False):
    """
    :return: string[]
                given node if it's of given type or it's shapes if
                they are of given type, otherwise errors.
    """
    shape_list = []

    all_shapes = getShapes(mesh=node, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list

    mc.warning('object "{}" is not of type "{}"'.format(node, type))

def getShapes(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 27: getShapes() got an unexpected keyword argument 'node' # 
import maya.cmds as mc


def getShapes(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 9: getShapes() got an unexpected keyword argument 'node' # 
import maya.cmds as mc


def getShapes(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShapes(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 9: getShapes() got an unexpected keyword argument 'node' # 
import maya.cmds as mc


def getShapes(node="", fullPath=False):
    """
    :return: returns all shape of the given node, plus itself if it's a shape too
    :return type: list of strings
    """
    if not mc.objExists(node):  # doesn't exist
        mc.error('"{}" does not exist.'.format(node))

    shape_list = mc.listRelatives(node, children=True, shapes=True, fullPath=True) or []

    # make sure node itself is in the list if it's a shape too
    if isShape(node):
        shape_list.append(node)

    if shape_list and (not fullPath):
        shape_list = [x.split('|')[-1] for x in shape_list]

    return shape_list

def getShape(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShape(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: NameError: file <maya console> line 15: global name 'isShape' is not defined # 
import maya.cmds as mc
def getShapes(node="", fullPath=False):
    """
    :return: returns all shape of the given node, plus itself if it's a shape too
    :return type: list of strings
    """
    if not mc.objExists(node):  # doesn't exist
        mc.error('"{}" does not exist.'.format(node))

    shape_list = mc.listRelatives(node, children=True, shapes=True, fullPath=True) or []

    # make sure node itself is in the list if it's a shape too
    if isShape(node):
        shape_list.append(node)

    if shape_list and (not fullPath):
        shape_list = [x.split('|')[-1] for x in shape_list]

    return shape_list

def getShapes(node="", fullPath=False):
    """
    :return: returns all shape of the given node, plus itself if it's a shape too
    :return type: list of strings
    """
    if not mc.objExists(node):  # doesn't exist
        mc.error('"{}" does not exist.'.format(node))

    shape_list = mc.listRelatives(node, children=True, shapes=True, fullPath=True) or []

    # make sure node itself is in the list if it's a shape too
    if isShape(node):
        shape_list.append(node)

    if shape_list and (not fullPath):
        shape_list = [x.split('|')[-1] for x in shape_list]

    return shape_list

def getShape(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShape(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: NameError: file <maya console> line 32: global name 'isShape' is not defined # 
import maya.cmds as mc
def getShapes(node="", fullPath=False):
    """
    :return: returns all shape of the given node, plus itself if it's a shape too
    :return type: list of strings
    """
    if not mc.objExists(node):  # doesn't exist
        mc.error('"{}" does not exist.'.format(node))

    shape_list = mc.listRelatives(node, children=True, shapes=True, fullPath=True) or []

    # make sure node itself is in the list if it's a shape too
    if isShape(node):
        shape_list.append(node)

    if shape_list and (not fullPath):
        shape_list = [x.split('|')[-1] for x in shape_list]

    return shape_list

def getShapes(node="", fullPath=False):
    """
    :return: returns all shape of the given node, plus itself if it's a shape too
    :return type: list of strings
    """
    if not mc.objExists(node):  # doesn't exist
        mc.error('"{}" does not exist.'.format(node))

    shape_list = mc.listRelatives(node, children=True, shapes=True, fullPath=True) or []

    # make sure node itself is in the list if it's a shape too
    if isShape(node):
        shape_list.append(node)

    if shape_list and (not fullPath):
        shape_list = [x.split('|')[-1] for x in shape_list]

    return shape_list

def getShape(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShape(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: NameError: file <maya console> line 32: global name 'isShape' is not defined # 
import maya.cmds as mc
def isShape(node=""):
    """
    :return: True if given node is a shape else False
    :return type: bool
    """
    maya_shapes = ["nurbsCurve", "mesh", "nurbsSurface"]
    if mc.nodeType(node) in maya_shapes:
        return True
    return False

def getShapes(node="", fullPath=False):
    """
    :return: returns all shape of the given node, plus itself if it's a shape too
    :return type: list of strings
    """
    if not mc.objExists(node):  # doesn't exist
        mc.error('"{}" does not exist.'.format(node))

    shape_list = mc.listRelatives(node, children=True, shapes=True, fullPath=True) or []

    # make sure node itself is in the list if it's a shape too
    if isShape(node):
        shape_list.append(node)

    if shape_list and (not fullPath):
        shape_list = [x.split('|')[-1] for x in shape_list]

    return shape_list

def getShape(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list
    return shapes


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShape(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: NameError: file <maya console> line 44: global name 'shapes' is not defined # 
import maya.cmds as mc
def isShape(node=""):
    """
    :return: True if given node is a shape else False
    :return type: bool
    """
    maya_shapes = ["nurbsCurve", "mesh", "nurbsSurface"]
    if mc.nodeType(node) in maya_shapes:
        return True
    return False

def getShapes(node="", fullPath=False):
    """
    :return: returns all shape of the given node, plus itself if it's a shape too
    :return type: list of strings
    """
    if not mc.objExists(node):  # doesn't exist
        mc.error('"{}" does not exist.'.format(node))

    shape_list = mc.listRelatives(node, children=True, shapes=True, fullPath=True) or []

    # make sure node itself is in the list if it's a shape too
    if isShape(node):
        shape_list.append(node)

    if shape_list and (not fullPath):
        shape_list = [x.split('|')[-1] for x in shape_list]

    return shape_list

def getShape(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShape(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 77: Object deltaMush1.weightList[None].weights[0] is invalid # 
import maya.cmds as mc
def isShape(node=""):
    """
    :return: True if given node is a shape else False
    :return type: bool
    """
    maya_shapes = ["nurbsCurve", "mesh", "nurbsSurface"]
    if mc.nodeType(node) in maya_shapes:
        return True
    return False

def getShapes(node="", fullPath=False):
    """
    :return: returns all shape of the given node, plus itself if it's a shape too
    :return type: list of strings
    """
    if not mc.objExists(node):  # doesn't exist
        mc.error('"{}" does not exist.'.format(node))

    shape_list = mc.listRelatives(node, children=True, shapes=True, fullPath=True) or []

    # make sure node itself is in the list if it's a shape too
    if isShape(node):
        shape_list.append(node)

    if shape_list and (not fullPath):
        shape_list = [x.split('|')[-1] for x in shape_list]

    return shape_list

def getShape(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list[0]


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShape(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 77: Object deltaMush1.weightList[None].weights[0] is invalid # 
import maya.cmds as mc
def isShape(node=""):
    """
    :return: True if given node is a shape else False
    :return type: bool
    """
    maya_shapes = ["nurbsCurve", "mesh", "nurbsSurface"]
    if mc.nodeType(node) in maya_shapes:
        return True
    return False

def getShapes(node="", fullPath=False):
    """
    :return: returns all shape of the given node, plus itself if it's a shape too
    :return type: list of strings
    """
    if not mc.objExists(node):  # doesn't exist
        mc.error('"{}" does not exist.'.format(node))

    shape_list = mc.listRelatives(node, children=True, shapes=True, fullPath=True) or []

    # make sure node itself is in the list if it's a shape too
    if isShape(node):
        shape_list.append(node)

    if shape_list and (not fullPath):
        shape_list = [x.split('|')[-1] for x in shape_list]

    return shape_list

def getShape(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list[0]


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShape(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 77: Object deltaMush1.weightList[None].weights[0] is invalid # 
import maya.cmds as mc
def isShape(node=""):
    """
    :return: True if given node is a shape else False
    :return type: bool
    """
    maya_shapes = ["nurbsCurve", "mesh", "nurbsSurface"]
    if mc.nodeType(node) in maya_shapes:
        return True
    return False

def getShapes(node="", fullPath=False):
    """
    :return: returns all shape of the given node, plus itself if it's a shape too
    :return type: list of strings
    """
    if not mc.objExists(node):  # doesn't exist
        mc.error('"{}" does not exist.'.format(node))

    shape_list = mc.listRelatives(node, children=True, shapes=True, fullPath=True) or []

    # make sure node itself is in the list if it's a shape too
    if isShape(node):
        shape_list.append(node)

    if shape_list and (not fullPath):
        shape_list = [x.split('|')[-1] for x in shape_list]

    return shape_list

def getShape(mesh="", fullPath=False):
    """
    @return string[]     shape list
    """
    shape_list = []
    all_shapes = getShapes(node=mesh, fullPath=fullPath)

    for shape in all_shapes:
        if mc.nodeType(shape) == type:
            shape_list.append(shape)

    if shape_list:
        return shape_list[0]


def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = getShape(geo)
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 77: Object deltaMush1.weightList[None].weights[0] is invalid # 
import maya.cmds as mc

    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 19: Object deltaMush1.weightList[None].weights[0] is invalid # 
// Undo:  // 
select -r pCubeShape1 ;
import maya.cmds as mc





def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = 'pCubeShape1'
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: NameError: file <maya console> line 19: global name 'getGeoIndicesFromDeformer' is not defined # 
import maya.cmds as mc
def getGeoIndicesFromDeformer(deformer):
    """
    get a dictionary of all geos and indices on a deformer
    :param deformer: deformer to find geos and indices from
    :return: (OrderedDict) geos and their indices on given deformer
             eg: {'pCube1Shape': 0, 'pSphere1Shape': 1}
    """
    geos = mc.deformer(
        deformer,
        query=True,
        geometry=True
    )
    indices = mc.deformer(
        deformer,
        query=True,
        geometryIndices=True
    )

    geo_indices_dict = OrderedDict()

    for geo, index in zip(geos, indices):
        geo_indices_dict[geo] = index

    return geo_indices_dict




def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = 'pCubeShape1'
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: NameError: file <maya console> line 20: global name 'OrderedDict' is not defined # 
import maya.cmds as mc
import Collections
def getGeoIndicesFromDeformer(deformer):
    """
    get a dictionary of all geos and indices on a deformer
    :param deformer: deformer to find geos and indices from
    :return: (OrderedDict) geos and their indices on given deformer
             eg: {'pCube1Shape': 0, 'pSphere1Shape': 1}
    """
    geos = mc.deformer(
        deformer,
        query=True,
        geometry=True
    )
    indices = mc.deformer(
        deformer,
        query=True,
        geometryIndices=True
    )

    geo_indices_dict = Collections.OrderedDict()

    for geo, index in zip(geos, indices):
        geo_indices_dict[geo] = index

    return geo_indices_dict




def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = 'pCubeShape1'
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: ImportError: file <maya console> line 2: No module named Collections # 
import maya.cmds as mc
from collections import OrderedDict
def getGeoIndicesFromDeformer(deformer):
    """
    get a dictionary of all geos and indices on a deformer
    :param deformer: deformer to find geos and indices from
    :return: (OrderedDict) geos and their indices on given deformer
             eg: {'pCube1Shape': 0, 'pSphere1Shape': 1}
    """
    geos = mc.deformer(
        deformer,
        query=True,
        geometry=True
    )
    indices = mc.deformer(
        deformer,
        query=True,
        geometryIndices=True
    )

    geo_indices_dict = Collections.OrderedDict()

    for geo, index in zip(geos, indices):
        geo_indices_dict[geo] = index

    return geo_indices_dict




def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = 'pCubeShape1'
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: NameError: file <maya console> line 21: global name 'Collections' is not defined # 
import maya.cmds as mc
from collections import OrderedDict
def getGeoIndicesFromDeformer(deformer):
    """
    get a dictionary of all geos and indices on a deformer
    :param deformer: deformer to find geos and indices from
    :return: (OrderedDict) geos and their indices on given deformer
             eg: {'pCube1Shape': 0, 'pSphere1Shape': 1}
    """
    geos = mc.deformer(
        deformer,
        query=True,
        geometry=True
    )
    indices = mc.deformer(
        deformer,
        query=True,
        geometryIndices=True
    )

    geo_indices_dict = OrderedDict()

    for geo, index in zip(geos, indices):
        geo_indices_dict[geo] = index

    return geo_indices_dict




def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = 'pCubeShape1'
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 62: Object deltaMush1.weightList[None].weights[0] is invalid # 
import maya.cmds as mc
from collections import OrderedDict
def getGeoIndicesFromDeformer(deformer):
    """
    get a dictionary of all geos and indices on a deformer
    :param deformer: deformer to find geos and indices from
    :return: (OrderedDict) geos and their indices on given deformer
             eg: {'pCube1Shape': 0, 'pSphere1Shape': 1}
    """
    geos = mc.deformer(
        deformer,
        query=True,
        geometry=True
    )
    indices = mc.deformer(
        deformer,
        query=True,
        geometryIndices=True
    )

    geo_indices_dict = OrderedDict()

    for geo, index in zip(geos, indices):
        geo_indices_dict[geo] = index

    return geo_indices_dict




def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = 'pCubeShape1'
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get(shape, None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
# Error: TypeError: file <maya console> line 62: Object deltaMush1.weightList[].weights[None] is invalid # 
select -r pCubeShape1 ;
import maya.cmds as mc
from collections import OrderedDict
def getGeoIndicesFromDeformer(deformer):
    """
    get a dictionary of all geos and indices on a deformer
    :param deformer: deformer to find geos and indices from
    :return: (OrderedDict) geos and their indices on given deformer
             eg: {'pCube1Shape': 0, 'pSphere1Shape': 1}
    """
    geos = mc.deformer(
        deformer,
        query=True,
        geometry=True
    )
    indices = mc.deformer(
        deformer,
        query=True,
        geometryIndices=True
    )

    geo_indices_dict = OrderedDict()

    for geo, index in zip(geos, indices):
        geo_indices_dict[geo] = index

    return geo_indices_dict




def getGeoIndexFromDeformer(geo, deformer):
    """
    finds index of geo on given deformer
    :param geo: geo name to find deformer index for
    :param deformer: node deforming geo
    :return: (int) index of given geometry on given deformer
    """
    shapes = 'pCubeShape1'
    if not shapes:
        return
    shape = shapes[0]

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get('pCubeShape1', None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
[1.0, 1.0, 1.0, 0.04904400557279587, 0.025436440482735634, 0.0, 1.0, 0.17058086395263672, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
import maya.cmds as mc
from collections import OrderedDict
def getGeoIndicesFromDeformer(deformer):
    """
    get a dictionary of all geos and indices on a deformer
    :param deformer: deformer to find geos and indices from
    :return: (OrderedDict) geos and their indices on given deformer
             eg: {'pCube1Shape': 0, 'pSphere1Shape': 1}
    """
    geos = mc.deformer(
        deformer,
        query=True,
        geometry=True
    )
    indices = mc.deformer(
        deformer,
        query=True,
        geometryIndices=True
    )

    geo_indices_dict = OrderedDict()

    for geo, index in zip(geos, indices):
        geo_indices_dict[geo] = index

    return geo_indices_dict




def getGeoIndexFromDeformer(geo, deformer):

    geo_indices_dict = getGeoIndicesFromDeformer(deformer)

    return geo_indices_dict.get('pCubeShape1', None)
    
node = 'deltaMush1'
geo = 'pCube1'
geo_idx = getGeoIndexFromDeformer(geo, node)
outs = mc.listConnections(node + '.message', plugs=True) or [None]
for out in outs:
    if '.usedBy[' in out:
        deformerSet = out.split('.')[0]
all_deformed_verts = mc.sets(deformerSet, query=True) 
this_geos_deformed_verts = [x for x in all_deformed_verts if geo in x]
deformed_verts = mc.ls(this_geos_deformed_verts, fl=True)
deformed_vert_ids = [int(x.split('[')[1][:-1]) for x in deformed_verts]
wgts = []
for i in range(numVerts):
    if i in deformed_vert_ids:
        attr = '{}.weightList[{}].weights[{}]'.format(node, geo_idx, i)
        wgt = mc.getAttr(attr)
        wgts.append(wgt)
    else:
        wgts.append(0.0)

print(wgts)      
[1.0, 1.0, 1.0, 0.04904400557279587, 0.025436440482735634, 0.0, 1.0, 0.17058086395263672, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
